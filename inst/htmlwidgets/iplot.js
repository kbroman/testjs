// Generated by CoffeeScript 1.8.0
var iplot;

iplot = function(data, chartOpts) {
  var axispos, chartdivid, height, margin, mychart, nxticks, nyticks, pointcolor, pointsize, pointstroke, rectcolor, rotate_ylab, title, titlepos, width, xNA, xlab, xlim, xticks, yNA, ylab, ylim, yticks, _ref, _ref1, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref2, _ref20, _ref21, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9;
  height = (_ref = chartOpts != null ? chartOpts.height : void 0) != null ? _ref : 500;
  width = (_ref1 = chartOpts != null ? chartOpts.width : void 0) != null ? _ref1 : 800;
  title = (_ref2 = chartOpts != null ? chartOpts.title : void 0) != null ? _ref2 : "";
  margin = (_ref3 = chartOpts != null ? chartOpts.margin : void 0) != null ? _ref3 : {
    left: 60,
    top: 40,
    right: 40,
    bottom: 40,
    inner: 5
  };
  xlab = (_ref4 = chartOpts != null ? chartOpts.xlab : void 0) != null ? _ref4 : "X";
  ylab = (_ref5 = chartOpts != null ? chartOpts.ylab : void 0) != null ? _ref5 : "Y";
  axispos = (_ref6 = chartOpts != null ? chartOpts.axispos : void 0) != null ? _ref6 : {
    xtitle: 25,
    ytitle: 30,
    xlabel: 5,
    ylabel: 5
  };
  titlepos = (_ref7 = chartOpts != null ? chartOpts.titlepos : void 0) != null ? _ref7 : 20;
  xlim = (_ref8 = chartOpts != null ? chartOpts.xlim : void 0) != null ? _ref8 : null;
  xticks = (_ref9 = chartOpts != null ? chartOpts.xticks : void 0) != null ? _ref9 : null;
  nxticks = (_ref10 = chartOpts != null ? chartOpts.nxticks : void 0) != null ? _ref10 : 5;
  ylim = (_ref11 = chartOpts != null ? chartOpts.ylim : void 0) != null ? _ref11 : null;
  yticks = (_ref12 = chartOpts != null ? chartOpts.yticks : void 0) != null ? _ref12 : null;
  nyticks = (_ref13 = chartOpts != null ? chartOpts.nyticks : void 0) != null ? _ref13 : 5;
  rectcolor = (_ref14 = chartOpts != null ? chartOpts.rectcolor : void 0) != null ? _ref14 : "#E6E6E6";
  pointcolor = (_ref15 = chartOpts != null ? chartOpts.pointcolor : void 0) != null ? _ref15 : null;
  pointsize = (_ref16 = chartOpts != null ? chartOpts.pointsize : void 0) != null ? _ref16 : 3;
  pointstroke = (_ref17 = chartOpts != null ? chartOpts.pointstroke : void 0) != null ? _ref17 : "black";
  rotate_ylab = (_ref18 = chartOpts != null ? chartOpts.rotate_ylab : void 0) != null ? _ref18 : null;
  xNA = (_ref19 = chartOpts != null ? chartOpts.xNA : void 0) != null ? _ref19 : {
    handle: true,
    force: false,
    width: 15,
    gap: 10
  };
  yNA = (_ref20 = chartOpts != null ? chartOpts.yNA : void 0) != null ? _ref20 : {
    handle: true,
    force: false,
    width: 15,
    gap: 10
  };
  chartdivid = (_ref21 = chartOpts != null ? chartOpts.chartdivid : void 0) != null ? _ref21 : 'chart';
  mychart = scatterplot().height(height).width(width).margin(margin).axispos(axispos).titlepos(titlepos).xlab(xlab).ylab(ylab).title(title).ylim(ylim).xlim(xlim).xticks(xticks).nxticks(nxticks).yticks(yticks).nyticks(nyticks).rectcolor(rectcolor).pointcolor(pointcolor).pointsize(pointsize).pointstroke(pointstroke).rotate_ylab(rotate_ylab).xNA(xNA).yNA(yNA).xvar('x').yvar('y').dataByInd(false);
  d3.select("div#" + chartdivid).datum({
    data: {
      x: data.x,
      y: data.y
    },
    group: data.group,
    indID: data.indID
  }).call(mychart);
  return mychart.pointsSelect().on("mouseover", function(d) {
    return d3.select(this).attr("r", pointsize * 2);
  }).on("mouseout", function(d) {
    return d3.select(this).attr("r", pointsize);
  });
};
